/* RTL Structural Fixes for TransLab */

[dir="rtl"] body {
    text-align: right;
    direction: rtl;
    font-family: 'IBM Plex Sans Arabic', sans-serif !important;
}

/* Sidebar Positioning */
[dir="rtl"] .sidebar {
    left: auto !important;
    right: 0 !important;
    border-right: none !important;
    border-left: 1px solid var(--border) !important;
    direction: rtl !important;
}

[dir="rtl"] .sidebar__menu .sidebar-menu-item.active>a,
[dir="rtl"] .sidebar__menu .sidebar-menu-item>a:hover {
    border-right: 4px solid var(--busconnect-secondary);
    border-left: none;
    padding-right: calc(1rem - 4px) !important;
}

@media (max-width: 991px) {
    [dir="rtl"] .sidebar {
        right: -285px !important;
        left: auto !important;
    }

    [dir="rtl"] .sidebar.open {
        right: 0 !important;
    }

    [dir="rtl"] .sidebar .res-sidebar-close-btn {
        right: auto !important;
        left: -35px !important;
    }
}

[dir="rtl"] .sidebar__logo {
    text-align: center;
    padding: 10px !important;
}

/* Main Content Adjustments */
[dir="rtl"] .navbar-wrapper,
[dir="rtl"] .body-wrapper {
    margin-left: 0 !important;
    margin-right: 250px !important;
}

[dir="rtl"] .body-wrapper.active {
    margin-left: 0 !important;
    margin-right: 80px !important;
}

@media (max-width: 991px) {

    [dir="rtl"] .navbar-wrapper,
    [dir="rtl"] .body-wrapper {
        margin-right: 0 !important;
    }
}

/* Navbar Elements */
[dir="rtl"] .navbar__left {
    flex-direction: row-reverse !important;
}

[dir="rtl"] .navbar__right {
    margin-left: 0 !important;
    margin-right: auto !important;
}

[dir="rtl"] .navbar-search i {
    left: auto !important;
    right: 15px !important;
}

[dir="rtl"] .navbar-search .navbar-search-field {
    padding-left: 10px !important;
    padding-right: 45px !important;
}

[dir="rtl"] .profile-dropdown .navbar-user {
    flex-direction: row-reverse !important;
}

[dir="rtl"] .navbar-user__info {
    text-align: left !important;
    padding-left: 0 !important;
    padding-right: 10px !important;
}

/* Widgets & Cards */
[dir="rtl"] .widget-two,
[dir="rtl"] .dashboard-w1-icon {
    flex-direction: row !important;
}

[dir="rtl"] .card-body .d-flex.justify-content-between {
    flex-direction: row-reverse !important;
}

[dir="rtl"] .widget-two__content {
    padding-left: 0 !important;
    padding-right: 20px !important;
    text-align: right !important;
}

[dir="rtl"] .widget-two .overlay-icon {
    right: auto !important;
    left: -15px !important;
    transform: rotate(45deg) !important;
}

[dir="rtl"] .widget-two__btn {
    right: auto !important;
    left: 10px !important;
}

/* Sidebar Menu */
[dir="rtl"] .sidebar__menu .sidebar-menu-item>a {
    display: flex !important;
    flex-direction: row !important;
    direction: rtl !important;
    text-align: right !important;
    padding: 12px 20px 12px 25px !important;
}

[dir="rtl"] .sidebar__menu .menu-icon {
    margin-right: 0 !important;
    margin-left: 15px !important;
    order: 1 !important;
}

[dir="rtl"] .sidebar__menu .menu-title {
    order: 2 !important;
    flex-grow: 1;
}

[dir="rtl"] .sidebar__menu .menu-badge {
    order: 3 !important;
    margin-left: 10px !important;
    margin-right: 10px !important;
}

[dir="rtl"] .sidebar-dropdown>a::before {
    right: auto !important;
    left: 20px !important;
    content: "\f104" !important;
    order: 4 !important;
    position: absolute;
}

[dir="rtl"] .sidebar-dropdown.active>a::before {
    transform: rotate(-90deg) !important;
}

[dir="rtl"] .sidebar-submenu {
    padding-right: 45px !important;
    padding-left: 0 !important;
    direction: rtl !important;
}

[dir="rtl"] .sidebar-submenu .sidebar-menu-item a {
    padding: 10px 15px 10px 20px !important;
    flex-direction: row !important;
}

/* Search Forms in Content */
[dir="rtl"] .system-search-icon {
    left: auto !important;
    right: 0 !important;
}

[dir="rtl"] .system-search-icon~.form-control {
    padding-left: 15px !important;
    padding-right: 45px !important;
}

/* Breadcrumb alignment */
[dir="rtl"] .breadcrumb-title,
[dir="rtl"] .page-title {
    text-align: right !important;
}

/* Forms */
[dir="rtl"] .form-group label {
    width: 100% !important;
    text-align: right !important;
}

[dir="rtl"] .form-control {
    text-align: right !important;
    border-radius: var(--radius) !important;
}


/* Toggles & Checkboxes */
[dir="rtl"] .form-check {
    padding-left: 0 !important;
    padding-right: 1.5em !important;
}

[dir="rtl"] .form-check-input {
    float: right !important;
    margin-right: -1.5em !important;
    margin-left: 0 !important;
}

/* Modal Fixes */
[dir="rtl"] .modal-header .btn-close {
    margin: -0.5rem auto -0.5rem -0.5rem !important;
}

[dir="rtl"] .modal-title {
    flex-grow: 1;
    text-align: right;
}

/* iziToast */
[dir="rtl"] .iziToast {
    direction: ltr !important;
}

[dir="rtl"] .iziToast-texts {
    text-align: right !important;
    direction: rtl !important;
}

/* Breadcrumb Separator Fix */
[dir="rtl"] .breadcrumb-item+.breadcrumb-item::before {
    float: right !important;
    padding-left: 0.5rem !important;
    padding-right: 0 !important;
    content: "/" !important;
    /* Ensure it's not mirrored if not desired, or use a neutral separator */
}

/* Input Group Rounding Fix (Bootstrap 5) */
[dir="rtl"] .input-group> :not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback) {
    margin-right: -1px !important;
    margin-left: 0 !important;
    border-top-left-radius: 0.375rem !important;
    border-bottom-left-radius: 0.375rem !important;
    border-top-right-radius: 0 !important;
    border-bottom-right-radius: 0 !important;
}

[dir="rtl"] .input-group> :not(:last-child):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating) {
    border-top-right-radius: 0.375rem !important;
    border-bottom-right-radius: 0.375rem !important;
    border-top-left-radius: 0 !important;
    border-bottom-left-radius: 0 !important;
}

/* Table Header Alignment */
[dir="rtl"] .custom-data-table thead th,
[dir="rtl"] .table thead th {
    text-align: right !important;
}

/* Pagination Icons */
[dir="rtl"] .pagination .page-link i {
    transform: rotate(180deg) !important;
}

/* Float Fixes */
[dir="rtl"] .float-end {
    float: left !important;
}

[dir="rtl"] .float-start {
    float: right !important;
}

/* Text Alignment Utilities */
[dir="rtl"] .text-end {
    text-align: left !important;
}

[dir="rtl"] .text-start {
    text-align: right !important;
}

/* Sidebar Toggle Fix */
[dir="rtl"] .navbar-search__btn {
    left: 0 !important;
    right: auto !important;
}

/* Bootstrap 5 Utility Flipping */
[dir="rtl"] .me-1 {
    margin-right: 0 !important;
    margin-left: 0.25rem !important;
}

[dir="rtl"] .me-2 {
    margin-right: 0 !important;
    margin-left: 0.5rem !important;
}

[dir="rtl"] .me-3 {
    margin-right: 0 !important;
    margin-left: 1rem !important;
}

[dir="rtl"] .me-4 {
    margin-right: 0 !important;
    margin-left: 1.5rem !important;
}

[dir="rtl"] .me-5 {
    margin-right: 0 !important;
    margin-left: 3rem !important;
}

[dir="rtl"] .me-auto {
    margin-right: 0 !important;
    margin-left: auto !important;
}

[dir="rtl"] .ms-1 {
    margin-left: 0 !important;
    margin-right: 0.25rem !important;
}

[dir="rtl"] .ms-2 {
    margin-left: 0 !important;
    margin-right: 0.5rem !important;
}

[dir="rtl"] .ms-3 {
    margin-left: 0 !important;
    margin-right: 1rem !important;
}

[dir="rtl"] .ms-4 {
    margin-left: 0 !important;
    margin-right: 1.5rem !important;
}

[dir="rtl"] .ms-5 {
    margin-left: 0 !important;
    margin-right: 3rem !important;
}

[dir="rtl"] .ms-auto {
    margin-left: 0 !important;
    margin-right: auto !important;
}

[dir="rtl"] .pe-1 {
    padding-right: 0 !important;
    padding-left: 0.25rem !important;
}

[dir="rtl"] .pe-2 {
    padding-right: 0 !important;
    padding-left: 0.5rem !important;
}

[dir="rtl"] .pe-3 {
    padding-right: 0 !important;
    padding-left: 1rem !important;
}

[dir="rtl"] .pe-4 {
    padding-right: 0 !important;
    padding-left: 1.5rem !important;
}

[dir="rtl"] .pe-5 {
    padding-right: 0 !important;
    padding-left: 3rem !important;
}

[dir="rtl"] .ps-1 {
    padding-left: 0 !important;
    padding-right: 0.25rem !important;
}

[dir="rtl"] .ps-2 {
    padding-left: 0 !important;
    padding-right: 0.5rem !important;
}

[dir="rtl"] .ps-3 {
    padding-left: 0 !important;
    padding-right: 1rem !important;
}

[dir="rtl"] .ps-4 {
    padding-left: 0 !important;
    padding-right: 1.5rem !important;
}

[dir="rtl"] .ps-5 {
    padding-left: 0 !important;
    padding-right: 3rem !important;
}

/* Border radius utilities */
[dir="rtl"] .rounded-start {
    border-top-right-radius: 0.375rem !important;
    border-bottom-right-radius: 0.375rem !important;
    border-top-left-radius: 0 !important;
    border-bottom-left-radius: 0 !important;
}

[dir="rtl"] .rounded-end {
    border-top-left-radius: 0.375rem !important;
    border-bottom-left-radius: 0.375rem !important;
    border-top-right-radius: 0 !important;
    border-bottom-right-radius: 0 !important;
}